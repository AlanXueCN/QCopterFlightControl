/*=====================================================================================================*/
/*=====================================================================================================*/
#include "stm32f4_system.h"
#include "module_sensor.h"
#include "module_mpu9150.h"
#include "module_ms5611.h"
/*=====================================================================================================*/
/*=====================================================================================================*/
Sensor Acc = {0};
Sensor Gyr = {0};
Sensor Mag = {0};
Sensor Ang = {0};
float Ellipse[5] = {0};
/*=====================================================================================================*/
/*=====================================================================================================*
**函數 : Sensor_Init
**功能 : Sensor Init
**輸入 : None
**輸出 : None
**使用 : Sensor_Init();
**=====================================================================================================*/
/*=====================================================================================================*/
u8 Sensor_Init( void )
{
  u8 Sta = ERROR;

  Acc.X = 0;
  Acc.Y = 0;
  Acc.Z = 0;
  Acc.OffsetX = -480;
  Acc.OffsetY = +165;
  Acc.OffsetZ = +550;
  Acc.TrueX = 0.0f;
  Acc.TrueY = 0.0f;
  Acc.TrueZ = 0.0f;

  Gyr.X = 0;
  Gyr.Y = 0;
  Gyr.Z = 0;
  Gyr.OffsetX = 0;
  Gyr.OffsetY = 0;
  Gyr.OffsetZ = 0;
  Gyr.TrueX = 0.0f;
  Gyr.TrueY = 0.0f;
  Gyr.TrueZ = 0.0f;

  Mag.X = 0;
  Mag.Y = 0;
  Mag.Z = 0;
  Mag.OffsetX = 0;
  Mag.OffsetY = 0;
  Mag.OffsetX = 0;
  Mag.OffsetY = 0;
  Mag.OffsetZ = 0;
  Mag.TrueX = 0.0f;
  Mag.TrueY = 0.0f;
  Mag.TrueZ = 0.0f;

  Ang.X = 0;
  Ang.Y = 0;
  Ang.Z = 0;
  Ang.OffsetX = 0;
  Ang.OffsetY = 0;
  Ang.OffsetZ = 0;
  Ang.TrueX = 0.0f;
  Ang.TrueY = 0.0f;
  Ang.TrueZ = 0.0f;

  Sta = MPU9150_Init();
  MS5611_Init(&Baro);

  return Sta;
}
/*=====================================================================================================*/
/*=====================================================================================================*/
