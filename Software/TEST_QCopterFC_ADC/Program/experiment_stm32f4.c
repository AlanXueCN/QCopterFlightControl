/*=====================================================================================================*/
/*=====================================================================================================*/
#include "stm32f4_system.h"
#include "stm32f4_adc.h"
#include "QCopterFC_board.h"
#include "module_rs232.h"
#include "algorithm_string.h"
/*=====================================================================================================*/
/*=====================================================================================================*/
int main( void )
{
  u16 ADC_AVE[2] = {0};

  SystemInit();
  LED_Config();
  KEY_Config();
  ADC_Config();
  RS232_Config();

  while(1) {
    LED_G = !LED_G;
    Delay_100ms(1);
    ADC_Average(ADC_AVE, 128);
    RS232_SendStr((u8*)"\f");
    RS232_SendStr((u8*)"ADC_I = ");
    RS232_SendNum(Type_D, 4, ADC_AVE[0]);
    RS232_SendStr((u8*)"\r\n");
    RS232_SendStr((u8*)"ADC_V = ");
    RS232_SendNum(Type_D, 4, ADC_AVE[1]);
    RS232_SendStr((u8*)"\r\n");
  }
}
/*=====================================================================================================*/
/*=====================================================================================================*/
